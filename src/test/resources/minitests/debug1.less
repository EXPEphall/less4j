.wrap-mixin(@ruleset) {
  @b: visible;
  .wrap-selector {
      @ruleset();
      visible-one: @b;
    }
}

.wrap-mixin({
  @b: hidden and if you see this in the output its a bug;
});

.ruleset-mixin() {
  @b-mixin: hidden and if you see this in the output its a bug;
}

/* ******************************************************** */
.wrap-mixin-mixin() {
  @b-mixin: visible;
  .wrap-selector {
      .ruleset-mixin();
      visible-one: @b-mixin;
    }
}

.wrap-mixin-mixin();